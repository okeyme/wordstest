<!--pages/listen/image.wxml-->
<view class="gradient-background">
	<view class="header">
		<view class="header-top"></view>
		<view class="flex header-center header-nav">
				<view class="item3 text-left"><text class="icon-chevron-left text-center" bindtap="goBack"></text><text class="icon-home text-center" bindtap="goHome"></text></view>
				<view class="item3 text-center">课文听力image</view>
				<view class="item3"></view>
		</view>
		<view class="flex listennav">
				<view class="item3"></view>
				<view class="item3 title text-center text-bold">{{listenObj.title}}</view>
				<view class="item3 dir text-right"><text class="icon-bars {{categoryDirShow ? 'active' : ''}}" catchtap="getCategoryDir"> 目录</text></view>
		</view>
	</view>
	<!--//内容区-->
	<scroll-view scroll-y style="width: 100%; height: {{scrollHeight}}px;" type="custom">
		<view class="listen-content">
			<view style="height: {{scrollTop}}px;"></view>
			<view class="audio-img">
				<image src="{{listenObj.picurl}}" class="audioimg" mode="widthFix" />
			</view>
		</view>
	</scroll-view>
	<!--//播放器-->
	<view class="playlist">
			<view class="playprogress"><progress class="music-progress" percent="{{currentTime / duration * 100}}" activeColor="#f29ec2" bindchange="onProgressChange" /></view>
			<view class="flex playcontrol">
				<view class="item4 autopage">
					<image src="/static/images/{{autopage ? 'autopage-auto.png' : 'autopage.png'}}" mode="scaleToFill" bindtap="autoPage"></image>
				</view>
				<view class="item4"><image src="/static/images/24gl-previousCircle.png" bindtap="prevAudio" mode="scaleToFill"></image></view>
				<view class="item4">
					<image src="/static/images/{{isPlaying ? '24gl-pauseCircle.png' : '24gl-playCircle.png'}}" bindtap="togglePlay" mode="scaleToFill"></image>
				</view>
				<view class="item4"><image src="/static/images/24gl-nextCircle.png" bindtap="nextAudio" mode="scaleToFill"></image></view>
			</view>
		<view>
		</view>	
	</view>
</view>
<!--//目录弹窗-->
<view class="categoryShadow {{categoryDirShow ? '' : 'undis'}}"></view>
<view class="categoryDir {{categoryDirShow ? '' : 'undis'}}">
	<view class="categoryDir-main">
		<view class="flex categoryDir-title">
				<view class="item3"></view>
				<view class="item3 text-center">目录</view>
				<view class="item3 text-right"><text class="dirClose icon-times" bindtap="closeCategoryDir"></text></view>
		</view>
		<scroll-view scroll-y class="categoryDir-content" style="width: 100%; height: 100%;" type="custom">
			<view style="height:30rpx"></view>
			<view class="category-list container" wx:for="{{catearray}}" wx:key="unique">
				<view class="category-item {{index==cid ? 'active' : ''}}" data-cid="{{index}}" catchtap="gotoCategory"><text class="icon-book"></text> {{item}}</view>
				<view wx:if="{{index==cid}}" class="category-item-page">
					<block wx:for="{{listenList}}" wx:for-index="idx" wx:for-item="itemName" wx:key="unique">
						<text data-index="{{idx}}" class="category-item-page-item {{idx==currentAudioIndex ? 'active' : ''}}" catchtap="gotoListen">{{itemName.title}}</text>
					</block>
				</view>
			</view>
			<view style="height:30rpx"></view>
		</scroll-view>
	</view>
</view>

